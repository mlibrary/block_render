services:
  theme.negotiator.block_render.render:
    class: Drupal\block_render\Theme\RenderNegotiator
    tags:
      - { name: theme_negotiator, priority: 0 }

  block_render.path_processor:
    class: Drupal\block_render\BlockRenderOutboundPathProcessor
    tags:
      - {name: path_processor_outbound}
    arguments:
      - '@current_route_match'
      - '%serializer.formats%'

  block_render.utility_library:
    class: Drupal\block_render\Utility\LibraryUtility
    arguments:
      - '@library.discovery'
      - '@library.dependency_resolver'

  block_render.utility_asset:
    class: Drupal\block_render\Utility\AssetUtility
    arguments:
      - '@asset.resolver'
      - '@config.factory'
      - '@block_render.utility_library'
      - '@asset.css.collection_renderer'
      - '@asset.js.collection_renderer'

  block_render.block_builder:
    class: Drupal\block_render\BlockBuilder
    arguments:
      - '@block_render.utility_asset'
      - '@entity.manager'
      - '@renderer'
